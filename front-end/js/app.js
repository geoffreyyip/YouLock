(function(){angular.module("youLock",["ionic","google-maps","controllers","directives","services","ngCordova","ngAutocomplete"]).run(["$ionicPlatform",function($ionicPlatform){return $ionicPlatform.ready(function(){return window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar?StatusBar.styleDefault():void 0})}])}).call(this),function(){angular.module("controllers",[]).controller("MapCtrl",["$scope","$rootScope","$timeout","$ionicLoading","$ionicModal","$ionicPopup","Lockup","Report","User","Analytics","geolocate",function($scope,$rootScope,$timeout,$ionicLoading,$ionicModal,$ionicPopup,Lockup,Report,User,Analytics,geolocate){var getPosition,searchInMapBounds,showLocationErrorAlert;return $scope.map={control:{},zoom:16,options:{disableDefaultUI:!0,minZoom:14},idKey:"_id",events:{idle:function(map){return searchInMapBounds(map)}},icons:{userLockups:"img/ionic.png"}},$scope.searchText="",$scope.data={},$scope.userMessages={},$scope.status={},showLocationErrorAlert=function(){var locationErrorPopup;return $ionicLoading.hide(),locationErrorPopup=$ionicPopup.alert({title:"Not found!",template:"Your location couldn't be found."})},getPosition=function(){return $scope.map?($ionicLoading.show({content:'<i class="icon ion-loading-c"></i>',noBackdrop:!0,showBackdrop:!1,duration:1e3}),geolocate().then(function(position){return $scope.map.center={latitude:position.coords.latitude,longitude:position.coords.longitude},$scope.map.zoom=17,$ionicLoading.hide(),Analytics.sendLocation(position.coords.latitude,position.coords.longitude)})["catch"](function(){return $ionicLoading.hide(),$scope.map.center={latitude:40.735666,longitude:-73.990341},$scope.map.zoom=16,showLocationErrorAlert()})):void 0},getPosition(),$scope.getPosition=getPosition,searchInMapBounds=function(map){var NELat,NELng,SWLat,SWLng,currentMapArea,northEast,southWest;return currentMapArea=map.getBounds(),northEast=currentMapArea.getNorthEast(),southWest=currentMapArea.getSouthWest(),SWLng=southWest.lng(),SWLat=southWest.lat(),NELng=northEast.lng(),NELat=northEast.lat(),Lockup.findInMapArea(SWLng,SWLat,NELng,NELat).then(function(data){return $scope.data.userLockups=null!=data.userLockups?data.userLockups:[],$scope.data.cityRacks=null!=data.cityRacks?data.cityRacks:[],$scope.data.sfRacks=null!=data.sfRacks?data.sfRacks:[],$scope.data.chiRacks=null!=data.chiRacks?data.chiRacks:[],$scope.data.dcRacks=null!=data.dcRacks?data.dcRacks:[]})["catch"](function(){})},$ionicModal.fromTemplateUrl("lockup-info.html",{scope:$scope,animation:"slide-in-up"}).then(function(modal){return $scope.infoModal=modal}),$ionicModal.fromTemplateUrl("dashboard.html",{scope:$scope,animation:"slide-in-up"}).then(function(modal){return $scope.dashboard=modal}),$scope.openLockupInfoModal=function($markerModel){return $ionicLoading.hide(),$scope.data.currentLockup=$markerModel,$scope.infoModal.show(),Analytics.incrementPageViews($scope.data.currentLockup)},$scope.openDashboard=function(){return $scope.processingAuth=!0,$ionicLoading.hide(),$scope.loginEnabled=!0,$scope.registrationEnabled=!1,$scope.dashboard.show(),User.loggedIn().then(function(user){return $scope.processingAuth=!1,$scope.currentUser=user,$scope.loggedIn=!0,$scope.data.lockup.createdBy=user.id})["catch"](function(){return $scope.processingAuth=!1,$scope.loggedIn=!1}),$scope.registration={email:"",password:""},$scope.loginCreds={email:"",password:""}},$scope.searchIsActive=function(){return $scope.searchText.length},$scope.resetSearch=function(){return $scope.searchText=""},$scope.searchLocation=function(){return $scope.searchText.length?($ionicLoading.show({content:'<i class="icon ion-loading-c></i>',noBackdrop:!0,showBackdrop:!1}),Lockup.geocode($scope.searchText).then(function(data){return $ionicLoading.hide(),$scope.map.center={latitude:data[0].geometry.location.k,longitude:data[0].geometry.location.A},Analytics.sendAddress(data[0].geometry.location.k,data[0].geometry.location.A)})["catch"](function(){return $ionicLoading.hide(),$ionicPopup.alert({title:"Not found!",template:"The address you searched for was not found."})})):void 0}}]).controller("DashboardCtrl",["$scope","User",function($scope,User){return $scope.toggleAuthForm=function(){return $scope.userMessages.authMessage="",$scope.loginEnabled=!$scope.loginEnabled,$scope.registrationEnabled=!$scope.registrationEnabled},$scope.closeDashboard=function(){return $scope.dashboard.hide(),$scope.registration.email="",$scope.registration.password="",$scope.loginCreds.email="",$scope.loginCreds.password="",$scope.userMessages.authMessage=""},$scope.register=function(){return User.register($scope.registration).then(function(response){return $scope.loggedIn=!0,$scope.currentUser=response.data.user,$scope.data.lockup.createdBy=$scope.currentUser.id,$scope.registrationEnabled=!1,$scope.loginEnabled=!0,$scope.registration={email:"",password:""}})["catch"](function(error){return console.log(error),$scope.userMessages.authMessage=error.data.info.signupMessage||"username/password invalid"})},$scope.login=function(){return User.login($scope.loginCreds).then(function(response){return $scope.loggedIn=!0,$scope.currentUser=response.data.user,$scope.data.lockup.createdBy=$scope.currentUser.id,$scope.loginCreds={email:"",password:""},$scope.userMessages.authMessage?$scope.userMessages.authMessage="":void 0})["catch"](function(error){return console.log(error),$scope.userMessages.authMessage=error.data.info.loginMessage||"email/password is incorrect"})},$scope.logout=function(){return User.logout().then(function(){return $scope.loggedIn=!1,$scope.currentUser={}})["catch"](function(){})}}]).controller("SubmissionCtrl",["$scope","Lockup","geolocate","$ionicPopup",function($scope,Lockup,geolocate,$ionicPopup){return $scope.locationQuery={text:""},$scope.data.lockup={description:"",address:"",location:{type:"Point",coordinates:[]},rackAmount:1,lockupType:2},geolocate().then(function(position){return $scope.data.lockup.location.coordinates=[position.coords.longitude,position.coords.latitude]})["catch"](function(){return showLocationErrorAlert()}),$scope.clearGeocodeForm=function(){return $scope.locationQuery.text="",$scope.data.lockup.location.coordinates=[],$scope.data.lockup.address="",geolocate().then(function(position){return $scope.processingLocation=!1,$scope.data.lockup.location.coordinates=[position.coords.longitude,position.coords.latitude]})["catch"](function(error){return console.log(error)})},$scope.geocodeFormIsActive=function(){return $scope.locationQuery.text?!0:!1},$scope.processLocation=function(){var LatLngCoords,coordRegexp;return $scope.processingLocation=!0,$scope.locationQuery.text?Lockup.geocode($scope.locationQuery.text).then(function(results){var formattedAddress;return $scope.processingLocation=!1,$scope.data.lockup.location.coordinates=[results[0].geometry.location.A,results[0].geometry.location.k],formattedAddress=results[0].formatted_address,$scope.data.lockup.address=formattedAddress,$scope.locationQuery.text=formattedAddress})["catch"](function(){return $ionicPopup.alert({title:"Not found!",template:"The address you searched for was not found"})}):void 0===$scope.locationQuery.text?($scope.locationQuery.text="",$scope.data.lockup.location.coordinates=[],$scope.data.lockup.address="",geolocate().then(function(position){return $scope.processingLocation=!1,$scope.data.lockup.location.coordinates=[position.coords.longitude,position.coords.latitude],$scope.processLocation()})["catch"](function(){return showLocationErrorAlert()})):(coordRegexp=/^(\-?\d+\.\d+?),*(\-?\d+\.\d+?)$/,String($scope.data.lockup.location.coordinates).match(coordRegexp)?(LatLngCoords={lat:$scope.data.lockup.location.coordinates[1],lng:$scope.data.lockup.location.coordinates[0]},Lockup.reverseGeocode(LatLngCoords).then(function(results){var formattedAddress;return $scope.processingLocation=!1,formattedAddress=results[0].formatted_address,$scope.data.lockup.address=formattedAddress,$scope.locationQuery.text=formattedAddress})["catch"](function(){})):geolocate().then(function(position){return $scope.processingLocation=!1,$scope.data.lockup.location.coordinates=[position.coords.longitude,position.coords.latitude],$scope.processLocation()})["catch"](function(){return showLocationErrorAlert()}))},$scope.submitLockup=function(){return Lockup.submit($scope.data.lockup).then(function(data){return"ValidationError"===data.data.name?$ionicPopup.alert({title:"Lockup creation failed!",template:"There was an issue, please try again."}):(data.data.icon="img/red.png",$scope.data.userLockups.push(data.data),$scope.dashboard.hide(),$scope.data.lockup={description:"",address:"",location:{type:"Point",coordinates:[]},rackAmount:1,lockupType:2},$scope.locationQuery.text="")})["catch"](function(){return $ionicPopup.alert({title:"Lockup creation failed!",template:"There was an issue, please try again."})})},$scope.closeModal=function(){return $scope.modal.hide(),$scope.clearGeocodeForm()}}]).controller("LockupInfoCtrl",["$scope","$ionicPopup","Report",function($scope,$ionicPopup,Report){var submitReport;return $scope.closeLockupInfoModal=function(){return $scope.infoModal.hide(),$scope.data.currentLockup={},$scope.reportLockupEnabled=!1},$scope.ifUserLockup=function(){var _ref;return 2===(null!=(_ref=$scope.data.currentLockup)?_ref.lockupType:void 0)},$scope.ifCityRack=function(){var _ref;return 1===(null!=(_ref=$scope.data.currentLockup)?_ref.lockupType:void 0)},$scope.ifSFRack=function(){var _ref;return 3===(null!=(_ref=$scope.data.currentLockup)?_ref.lockupType:void 0)},$scope.ifChiRack=function(){var _ref;return 4===(null!=(_ref=$scope.data.currentLockup)?_ref.lockupType:void 0)},$scope.ifDCRack=function(){var _ref;return 5===(null!=(_ref=$scope.data.currentLockup)?_ref.lockupType:void 0)},$scope.showReportPopup=function(){var reportPopup;return $scope.lockupReport={lockupId:$scope.data.currentLockup._id,missing:!1,theft:!1},reportPopup=$ionicPopup.show({templateUrl:"report-popup.html",title:"Send report",scope:$scope,buttons:[{text:"Cancel",onTap:function(){return"Cancelled"}},{text:"<b>Submit</b>",type:"button-assertive",onTap:function(e){return $scope.lockupReport.description?(submitReport(),$scope.lockupReport):e.preventDefault()}}]})},submitReport=function(){return document.activeElement.blur(),Report.submit($scope.lockupReport)["catch"](function(){return $ionicPopup.alert({title:"Report submission failed!",template:"There was an issue, please try again."})})}}])}.call(this),function(){angular.module("directives",[]).directive("blurInputs",function(){return function(scope,elem){return elem.on("submit",function(){return _.each(elem.find("input"),function(node){return node.blur()})})}})}.call(this),function(){angular.module("services",[]).factory("Lockup",["$http","$q","ServerUrl",function($http,$q,ServerUrl){var geocoder;return geocoder=new google.maps.Geocoder,{findAll:function(){return $http.get("{ServerUrl}api/lockups")},findInMapArea:function(SWLng,SWLat,NELng,NELat){return $http.get(""+ServerUrl+"api/lockups",{params:{filtered:!0,SWLng:SWLng,SWLat:SWLat,NELng:NELng,NELat:NELat}}).then(function(response){var sortedData;return sortedData=_.groupBy(response.data,"lockupType"),{userLockups:_.each(sortedData[2],function(lockup){return lockup.icon="img/red.png"}),cityRacks:_.each(sortedData[1],function(lockup){return lockup.icon="img/blue.png"}),sfRacks:_.each(sortedData[3],function(lockup){return lockup.icon="img/blue.png"}),chiRacks:_.each(sortedData[4],function(lockup){return lockup.icon="img/blue.png"}),dcRacks:_.each(sortedData[5],function(lockup){return lockup.icon="img/blue.png"})}})},submit:function(lockup){return $http.post(""+ServerUrl+"api/lockups",lockup)},geocode:function(address){var deferred;return deferred=$q.defer(),geocoder.geocode({address:address},function(results,status){return"OK"===status?deferred.resolve(results):deferred.reject()}),deferred.promise},reverseGeocode:function(coords){var deferred;return deferred=$q.defer(),geocoder.geocode({latLng:coords},function(results,status){return"OK"===status?deferred.resolve(results):deferred.reject()}),deferred.promise}}}]).factory("Report",["$http","ServerUrl",function($http,ServerUrl){return{submit:function(report){return $http.post(""+ServerUrl+"api/reports",report)}}}]).factory("User",["$http","$q","ServerUrl",function($http,$q,ServerUrl){return{register:function(credentials){return $http.post(""+ServerUrl+"auth/signup",credentials)},login:function(credentials){return $http.post(""+ServerUrl+"auth/login",credentials)},logout:function(){return $http.get(""+ServerUrl+"auth/logout")},loggedIn:function(){var deferred;return deferred=$q.defer(),$http.get(""+ServerUrl+"auth/loggedin").then(function(response){return"0"===response.data?deferred.reject("not logged in"):deferred.resolve(response.data)})["catch"](function(error){return deferred.reject(error)}),deferred.promise}}}]).factory("Analytics",["$http","ServerUrl",function($http,ServerUrl){return{incrementPageViews:function(lockup){return $http.get(""+ServerUrl+"api/analytics/lockups/"+lockup._id)},sendLocation:function(lat,lng){return $http.get(""+ServerUrl+"api/analytics/search/location",{params:{lat:lat,lng:lng}})},sendAddress:function(lat,lng){return $http.get(""+ServerUrl+"api/analytics/search/address",{params:{lat:lat,lng:lng}})}}}]).factory("geolocate",["$cordovaGeolocation",function($cordovaGeolocation){return function(){return $cordovaGeolocation.getCurrentPosition({maximumAge:0})}}]).constant("ServerUrl","http://localhost:8080/")}.call(this);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb2ZmZWUiLCJjb250cm9sbGVycy5jb2ZmZWUiLCJkaXJlY3RpdmVzLmNvZmZlZSIsInNlcnZpY2VzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQ0FBQSxXQUFBLFFBQVEsT0FBTyxXQUFZLFFBQVMsY0FBZSxjQUFlLGFBQWMsV0FBWSxZQUFhLG1CQUV4RyxLQUFLLGlCQUFrQixTQUFDLHNCQUN2QixnQkFBZSxNQUFNLFdBR25CLE1BRkcsUUFBTyxTQUFXLE9BQU8sUUFBUSxRQUFRLFVBQzFDLFFBQVEsUUFBUSxTQUFTLDBCQUF5QixHQUNqRCxPQUFPLFVBQ1IsVUFBVSxlQURaLHlCQ05KLFdBQUEsUUFBUSxPQUFPLGtCQUVkLFdBQVcsV0FDVCxTQUFVLGFBQWMsV0FBWSxnQkFBaUIsY0FBZSxjQUFlLFNBQVUsU0FBVSxPQUFRLFlBQWEsWUFDN0gsU0FBQyxPQUFRLFdBQVksU0FBVSxjQUFlLFlBQWEsWUFBYSxPQUFRLE9BQVEsS0FBTSxVQUFXLFdBRXZHLEdBQUEsYUFBQSxrQkFBQSw2QkFBQSxRQUFPLEtBQ0wsV0FDQSxLQUFNLEdBQ04sU0FDRSxrQkFBa0IsRUFDbEIsUUFBUyxJQUNYLE1BQU8sTUFDUCxRQUNFLEtBQU0sU0FBQyxXQUEwQixtQkFBa0IsT0FDckQsT0FBTyxZQUFhLGtCQUV0QixPQUFPLFdBQWEsR0FFcEIsT0FBTyxRQUNQLE9BQU8sZ0JBQ1AsT0FBTyxVQUlQLHVCQUF5QixXQUN2QixHQUFBLDBCQUFBLGVBQWMsT0FDZCxtQkFBcUIsWUFBWSxPQUMvQixNQUFPLGFBQ1AsU0FBVSxzQ0FFZCxZQUFjLFdBQ1osTUFBQSxRQUFxQixLQUVyQixjQUFjLE1BQ1osUUFBUyxxQ0FDVCxZQUFZLEVBQ1osY0FBYyxFQUNkLFNBQVUsTUFFWixZQUNHLEtBQUssU0FBQyxnQkFDTCxRQUFPLElBQUksUUFBUyxTQUFVLFNBQVMsT0FBTyxTQUFVLFVBQVcsU0FBUyxPQUFPLFdBQ25GLE9BQU8sSUFBSSxLQUFPLEdBQ2xCLGNBQWMs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aUJBQ3hDLFNBQVMsUUFBUSxTQUFTLFFBQ2hDLFNBQU0sU0FBQyxhQUNOLFVBQVMsT0FBTyxTQUVwQixTQUFTLGFBR1osUUFBUSxhQUFjLFFBQVMsWUFBYSxTQUFDLE1BQU8sa0JBQ25ELG1CQUFvQixTQUFDLGNBQ25CLE9BQU0sSUFBSSxHQUFHLFVBQVUseUJBQXdCLE9BQU8sTUFFeEQsYUFBYyxTQUFDLElBQUssV0FDbEIsT0FBTSxJQUFJLEdBQUcsVUFBVSxpQ0FDckIsUUFDRSxJQUFLLElBQ0wsSUFBSyxRQUVYLFlBQWEsU0FBQyxJQUFLLFdBQ2pCLE9BQU0sSUFBSSxHQUFHLFVBQVUsZ0NBQ3JCLFFBQ0UsSUFBSyxJQUNMLElBQUssWUFHWixRQUFRLGFBQWMsc0JBQXVCLFNBQUMsMkJBQzdDLGtCQUFHLHFCQUFvQixvQkFBbUIsV0FBWSxRQUd2RCxTQUFTLFlBQWEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ3lvdUxvY2snLCBbJ2lvbmljJywgJ2dvb2dsZS1tYXBzJywgJ2NvbnRyb2xsZXJzJywgJ2RpcmVjdGl2ZXMnLCAnc2VydmljZXMnLCAnbmdDb3Jkb3ZhJywgJ25nQXV0b2NvbXBsZXRlJ10pXG5cbi5ydW4gWyckaW9uaWNQbGF0Zm9ybScsICgkaW9uaWNQbGF0Zm9ybSkgLT5cbiAgJGlvbmljUGxhdGZvcm0ucmVhZHkgLT5cbiAgICBpZiB3aW5kb3cuY29yZG92YSAmJiB3aW5kb3cuY29yZG92YS5wbHVnaW5zLktleWJvYXJkXG4gICAgICBjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKHRydWUpXG4gICAgaWYgd2luZG93LlN0YXR1c0JhclxuICAgICAgU3RhdHVzQmFyLnN0eWxlRGVmYXVsdCgpXG5dXG4iLCJhbmd1bGFyLm1vZHVsZSgnY29udHJvbGxlcnMnLCBbXSlcblxuLmNvbnRyb2xsZXIgJ01hcEN0cmwnLFxuICBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyR0aW1lb3V0JywgJyRpb25pY0xvYWRpbmcnLCAnJGlvbmljTW9kYWwnLCAnJGlvbmljUG9wdXAnLCAnTG9ja3VwJywgJ1JlcG9ydCcsICdVc2VyJywgJ0FuYWx5dGljcycsICdnZW9sb2NhdGUnLFxuICAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkdGltZW91dCwgJGlvbmljTG9hZGluZywgJGlvbmljTW9kYWwsICRpb25pY1BvcHVwLCBMb2NrdXAsIFJlcG9ydCwgVXNlciwgQW5hbHl0aWNzLCBnZW9sb2NhdGUpIC0+XG5cbiAgICAkc2NvcGUubWFwID1cbiAgICAgIGNvbnRyb2w6IHt9XG4gICAgICB6b29tOiAxNlxuICAgICAgb3B0aW9uczpcbiAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogdHJ1ZVxuICAgICAgICBtaW5ab29tOiAxNFxuICAgICAgaWRLZXk6ICdfaWQnXG4gICAgICBldmVudHM6XG4gICAgICAgIGlkbGU6IChtYXAsIGV2ZW50LCBldmVudEFyZ3MpIC0+IHNlYXJjaEluTWFwQm91bmRzIG1hcFxuICAgICAgaWNvbnM6IHVzZXJMb2NrdXBzOiBcImltZy9pb25pYy5wbmdcIlxuXG4gICAgJHNjb3BlLnNlYXJjaFRleHQgPSBcIlwiXG5cbiAgICAkc2NvcGUuZGF0YSA9IHt9XG4gICAgJHNjb3BlLnVzZXJNZXNzYWdlcyA9IHt9XG4gICAgJHNjb3BlLnN0YXR1cyA9IHt9XG5cbiAgICAjIG1hcCBmdW5jdGlvbnNcblxuICAgIHNob3dMb2NhdGlvbkVycm9yQWxlcnQgPSAtPlxuICAgICAgJGlvbmljTG9hZGluZy5oaWRlKClcbiAgICAgIGxvY2F0aW9uRXJyb3JQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0XG4gICAgICAgIHRpdGxlOiAnTm90IGZvdW5kISdcbiAgICAgICAgdGVtcGxhdGU6IFwiWW91ciBsb2NhdGlvbiBjb3VsZG4ndCBiZSBmb3VuZC5cIlxuXG4gICAgZ2V0UG9zaXRpb24gPSAtPlxuICAgICAgcmV0dXJuIHVubGVzcyAkc2NvcGUubWFwXG5cbiAgICAgICRpb25pY0xvYWRpbmcuc2hvd1xuICAgICAgICBjb250ZW50OiAnPGkgY2xhc3M9XCJpY29uIGlvbi1sb2FkaW5nLWNcIj48L2k+J1xuICAgICAgICBub0JhY2tkcm9wOiB0cnVlXG4gICAgICAgIHNob3dCYWNrZHJvcDogZmFsc2UsXG4gICAgICAgIGR1cmF0aW9uOiAxMDAwXG5cbiAgICAgIGdlb2xvY2F0ZSgpXG4gICAgICAgIC50aGVuIChwb3NpdGlvbikgLT5cbiAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlciA9IGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZVxuICAgICAgICAgICRzY29wZS5tYXAuem9vbSA9IDE3XG4gICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKClcbiAgICAgICAgICBBbmFseXRpY3Muc2VuZExvY2F0aW9uIHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZVxuXG4gICAgICAgIC5jYXRjaCAoZXJyKSAtPlxuICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpXG4gICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIgPSBsYXRpdHVkZTogNDAuNzM1NjY2LCBsb25naXR1ZGU6IC03My45OTAzNDFcbiAgICAgICAgICAkc2NvcGUubWFwLnpvb20gPSAxNlxuICAgICAgICAgIHNob3dMb2NhdGlvbkVycm9yQWxlcnQoKVxuXG4gICAgIyBpbml0aWFsaXplIG1hcCBvbiBjb250cm9sbGVyIGluc3RhbnRpYXRpb25cbiAgICBnZXRQb3NpdGlvbigpXG4gICAgXG4gICAgJHNjb3BlLmdldFBvc2l0aW9uID0gZ2V0UG9zaXRpb25cblxuICAgIHNlYXJjaEluTWFwQm91bmRzID0gKG1hcCkgLT5cbiAgICAgIGN1cnJlbnRNYXBBcmVhID0gbWFwLmdldEJvdW5kcygpXG4gICAgICBub3J0aEVhc3QgPSBjdXJyZW50TWFwQXJlYS5nZXROb3J0aEVhc3QoKVxuICAgICAgc291dGhXZXN0ID0gY3VycmVudE1hcEFyZWEuZ2V0U291dGhXZXN0KClcblxuICAgICAgU1dMbmcgPSBzb3V0aFdlc3QubG5nKClcbiAgICAgIFNXTGF0ID0gc291dGhXZXN0LmxhdCgpXG4gICAgICBORUxuZyA9IG5vcnRoRWFzdC5sbmcoKVxuICAgICAgTkVMYXQgPSBub3J0aEVhc3QubGF0KClcblxuICAgICAgTG9ja3VwLmZpbmRJbk1hcEFyZWEgU1dMbmcsIFNXTGF0LCBORUxuZywgTkVMYXRcbiAgICAgICAgLnRoZW4gKGRhdGEpIC0+XG4gICAgICAgICAgJHNjb3BlLmRhdGEudXNlckxvY2t1cHMgPSBpZiBkYXRhLnVzZXJMb2NrdXBzPyB0aGVuIGRhdGEudXNlckxvY2t1cHMgZWxzZSBbXVxuICAgICAgICAgICRzY29wZS5kYXRhLmNpdHlSYWNrcyA9IGlmIGRhdGEuY2l0eVJhY2tzPyB0aGVuIGRhdGEuY2l0eVJhY2tzIGVsc2UgW11cbiAgICAgICAgICAkc2NvcGUuZGF0YS5zZlJhY2tzID0gaWYgZGF0YS5zZlJhY2tzPyB0aGVuIGRhdGEuc2ZSYWNrcyBlbHNlIFtdXG4gICAgICAgICAgJHNjb3BlLmRhdGEuY2hpUmFja3MgPSBpZiBkYXRhLmNoaVJhY2tzPyB0aGVuIGRhdGEuY2hpUmFja3MgZWxzZSBbXVxuICAgICAgICAgICRzY29wZS5kYXRhLmRjUmFja3MgPSBpZiBkYXRhLmRjUmFja3M/IHRoZW4gZGF0YS5kY1JhY2tzIGVsc2UgW11cblxuICAgICAgICAuY2F0Y2ggKGVycm9yKSAtPlxuICAgICAgICAgICMgVE9ETzogaGFuZGxlIGVycm9yXG5cbiAgICAjIGNvbmZpZ3VyZSBtb2RhbHNcbiAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwgJ2xvY2t1cC1pbmZvLmh0bWwnLFxuICAgICAgc2NvcGU6ICRzY29wZVxuICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG4gICAgLnRoZW4gKG1vZGFsKSAtPiAkc2NvcGUuaW5mb01vZGFsID0gbW9kYWxcblxuICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCAnZGFzaGJvYXJkLmh0bWwnLFxuICAgICAgc2NvcGU6ICRzY29wZVxuICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnXG4gICAgLnRoZW4gKG1vZGFsKSAtPiAkc2NvcGUuZGFzaGJvYXJkID0gbW9kYWxcblxuICAgICMgb3BlbiBtb2RhbHNcbiAgICAkc2NvcGUub3BlbkxvY2t1cEluZm9Nb2RhbCA9ICgkbWFya2VyTW9kZWwpIC0+XG4gICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKVxuICAgICAgJHNjb3BlLmRhdGEuY3VycmVudExvY2t1cCA9ICRtYXJrZXJNb2RlbFxuICAgICAgJHNjb3BlLmluZm9Nb2RhbC5zaG93KClcbiAgICAgIEFuYWx5dGljcy5pbmNyZW1lbnRQYWdlVmlld3MgJHNjb3BlLmRhdGEuY3VycmVudExvY2t1cFxuXG4gICAgJHNjb3BlLm9wZW5EYXNoYm9hcmQgPSAtPlxuICAgICAgJHNjb3BlLnByb2Nlc3NpbmdBdXRoID0gdHJ1ZVxuICAgICAgJGlvbmljTG9hZGluZy5oaWRlKClcbiAgICAgICRzY29wZS5sb2dpbkVuYWJsZWQgPSB0cnVlXG4gICAgICAkc2NvcGUucmVnaXN0cmF0aW9uRW5hYmxlZCA9IGZhbHNlXG4gICAgICAkc2NvcGUuZGFzaGJvYXJkLnNob3coKVxuICAgICAgVXNlci5sb2dnZWRJbigpXG4gICAgICAgIC50aGVuICh1c2VyKSAtPlxuICAgICAgICAgICRzY29wZS5wcm9jZXNzaW5nQXV0aCA9IGZhbHNlXG4gICAgICAgICAgJHNjb3BlLmN1cnJlbnRVc2VyID0gdXNlclxuICAgICAgICAgICRzY29wZS5sb2dnZWRJbiA9IHRydWVcbiAgICAgICAgICAkc2NvcGUuZGF0YS5sb2NrdXAuY3JlYXRlZEJ5ID0gdXNlci5pZFxuICAgICAgICAuY2F0Y2ggKGVycm9yKSAtPlxuICAgICAgICAgICRzY29wZS5wcm9jZXNzaW5nQXV0aCA9IGZhbHNlXG4gICAgICAgICAgJHNjb3BlLmxvZ2dlZEluID0gZmFsc2VcblxuICAgICAgJHNjb3BlLnJlZ2lzdHJhdGlvbiA9XG4gICAgICAgIGVtYWlsOiAnJ1xuICAgICAgICBwYXNzd29yZDogJydcblxuICAgICAgJHNjb3BlLmxvZ2luQ3JlZHMgPVxuICAgICAgICBlbWFpbDogJydcbiAgICAgICAgcGFzc3dvcmQ6ICcnXG4gICAgXG5cbiAgICAjIFNlYXJjaFxuXG4gICAgJHNjb3BlLnNlYXJjaElzQWN0aXZlID0gLT4gJHNjb3BlLnNlYXJjaFRleHQubGVuZ3RoXG5cbiAgICAkc2NvcGUucmVzZXRTZWFyY2ggPSAtPiAkc2NvcGUuc2VhcmNoVGV4dCA9IFwiXCJcblxuICAgICRzY29wZS5zZWFyY2hMb2NhdGlvbiA9IC0+XG4gICAgICBpZiAkc2NvcGUuc2VhcmNoVGV4dC5sZW5ndGhcbiAgICAgICAgJGlvbmljTG9hZGluZy5zaG93XG4gICAgICAgICAgY29udGVudDogJzxpIGNsYXNzPVwiaWNvbiBpb24tbG9hZGluZy1jPjwvaT4nXG4gICAgICAgICAgbm9CYWNrZHJvcDogdHJ1ZVxuICAgICAgICAgIHNob3dCYWNrZHJvcDogZmFsc2VcblxuICAgICAgICBMb2NrdXAuZ2VvY29kZSAkc2NvcGUuc2VhcmNoVGV4dFxuICAgICAgICAgIC50aGVuIChkYXRhKSAtPlxuICAgICAgICAgICAgJGlvbmljTG9hZGluZy5oaWRlKClcbiAgICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyID1cbiAgICAgICAgICAgICAgbGF0aXR1ZGU6IGRhdGFbMF0uZ2VvbWV0cnkubG9jYXRpb24ua1xuICAgICAgICAgICAgICBsb25naXR1ZGU6IGRhdGFbMF0uZ2VvbWV0cnkubG9jYXRpb24uQVxuICAgICAgICAgICAgQW5hbHl0aWNzLnNlbmRBZGRyZXNzIGRhdGFbMF0uZ2VvbWV0cnkubG9jYXRpb24uaywgZGF0YVswXS5nZW9tZXRyeS5sb2NhdGlvbi5BXG4gICAgICAgICAgLmNhdGNoIChlcnJvcikgLT5cbiAgICAgICAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpXG4gICAgICAgICAgICAkaW9uaWNQb3B1cC5hbGVydFxuICAgICAgICAgICAgICB0aXRsZTogJ05vdCBmb3VuZCEnXG4gICAgICAgICAgICAgIHRlbXBsYXRlOiAnVGhlIGFkZHJlc3MgeW91IHNlYXJjaGVkIGZvciB3YXMgbm90IGZvdW5kLidcbl1cblxuLmNvbnRyb2xsZXIgJ0Rhc2hib2FyZEN0cmwnLFxuICBbJyRzY29wZScsICdVc2VyJywgKCRzY29wZSwgVXNlcikgLT5cbiAgICAkc2NvcGUudG9nZ2xlQXV0aEZvcm0gPSAtPlxuICAgICAgJHNjb3BlLnVzZXJNZXNzYWdlcy5hdXRoTWVzc2FnZSA9ICcnXG4gICAgICAkc2NvcGUubG9naW5FbmFibGVkID0gbm90ICRzY29wZS5sb2dpbkVuYWJsZWRcbiAgICAgICRzY29wZS5yZWdpc3RyYXRpb25FbmFibGVkID0gbm90ICRzY29wZS5yZWdpc3RyYXRpb25FbmFibGVkXG5cbiAgICAkc2NvcGUuY2xvc2VEYXNoYm9hcmQgPSAtPlxuICAgICAgJHNjb3BlLmRhc2hib2FyZC5oaWRlKClcbiAgICAgICRzY29wZS5yZWdpc3RyYXRpb24uZW1haWwgPSAnJ1xuICAgICAgJHNjb3BlLnJlZ2lzdHJhdGlvbi5wYXNzd29yZCA9ICcnXG4gICAgICAkc2NvcGUubG9naW5DcmVkcy5lbWFpbCA9ICcnXG4gICAgICAkc2NvcGUubG9naW5DcmVkcy5wYXNzd29yZCA9ICcnXG4gICAgICAkc2NvcGUudXNlck1lc3NhZ2VzLmF1dGhNZXNzYWdlID0gJydcblxuICAgICRzY29wZS5yZWdpc3RlciA9IC0+XG4gICAgICBVc2VyLnJlZ2lzdGVyICRzY29wZS5yZWdpc3RyYXRpb25cbiAgICAgICAgLnRoZW4gKHJlc3BvbnNlKSAtPlxuICAgICAgICAgICRzY29wZS5sb2dnZWRJbiA9IHRydWVcbiAgICAgICAgICAkc2NvcGUuY3VycmVudFVzZXIgPSByZXNwb25zZS5kYXRhLnVzZXJcbiAgICAgICAgICAkc2NvcGUuZGF0YS5sb2NrdXAuY3JlYXRlZEJ5ID0gJHNjb3BlLmN1cnJlbnRVc2VyLmlkXG4gICAgICAgICAgJHNjb3BlLnJlZ2lzdHJhdGlvbkVuYWJsZWQgPSBmYWxzZVxuICAgICAgICAgICRzY29wZS5sb2dpbkVuYWJsZWQgPSB0cnVlXG4gICAgICAgICAgJHNjb3BlLnJlZ2lzdHJhdGlvbiA9XG4gICAgICAgICAgICBlbWFpbDogJydcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJ1xuICAgICAgICAuY2F0Y2ggKGVycm9yKSAtPlxuICAgICAgICAgIGNvbnNvbGUubG9nIGVycm9yXG4gICAgICAgICAgJHNjb3BlLnVzZXJNZXNzYWdlcy5hdXRoTWVzc2FnZSA9IGVycm9yLmRhdGEuaW5mby5zaWdudXBNZXNzYWdlIG9yIFwidXNlcm5hbWUvcGFzc3dvcmQgaW52YWxpZFwiXG5cbiAgICAkc2NvcGUubG9naW4gPSAtPlxuICAgICAgVXNlci5sb2dpbiAkc2NvcGUubG9naW5DcmVkc1xuICAgICAgICAudGhlbiAocmVzcG9uc2UpIC0+XG4gICAgICAgICAgJHNjb3BlLmxvZ2dlZEluID0gdHJ1ZVxuICAgICAgICAgICRzY29wZS5jdXJyZW50VXNlciA9IHJlc3BvbnNlLmRhdGEudXNlclxuICAgICAgICAgICRzY29wZS5kYXRhLmxvY2t1cC5jcmVhdGVkQnkgPSAkc2NvcGUuY3VycmVudFVzZXIuaWRcbiAgICAgICAgICAkc2NvcGUubG9naW5DcmVkcyA9XG4gICAgICAgICAgICBlbWFpbDogJydcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJ1xuICAgICAgICAgIGlmICRzY29wZS51c2VyTWVzc2FnZXMuYXV0aE1lc3NhZ2VcbiAgICAgICAgICAgICRzY29wZS51c2VyTWVzc2FnZXMuYXV0aE1lc3NhZ2UgPSBcIlwiXG4gICAgICAgIC5jYXRjaCAoZXJyb3IpIC0+XG4gICAgICAgICAgY29uc29sZS5sb2cgZXJyb3JcbiAgICAgICAgICAkc2NvcGUudXNlck1lc3NhZ2VzLmF1dGhNZXNzYWdlID0gZXJyb3IuZGF0YS5pbmZvLmxvZ2luTWVzc2FnZSBvciBcImVtYWlsL3Bhc3N3b3JkIGlzIGluY29ycmVjdFwiXG5cbiAgICAkc2NvcGUubG9nb3V0ID0gLT5cbiAgICAgIFVzZXIubG9nb3V0KClcbiAgICAgICAgLnRoZW4gKGRhdGEpIC0+XG4gICAgICAgICAgJHNjb3BlLmxvZ2dlZEluID0gZmFsc2VcbiAgICAgICAgICAkc2NvcGUuY3VycmVudFVzZXIgPSB7fVxuICAgICAgICAuY2F0Y2ggKGVycm9yKSAtPlxuICAgICAgICAgICMgY29uc29sZS5sb2cgZXJyb3Jcbl1cblxuLmNvbnRyb2xsZXIgJ1N1Ym1pc3Npb25DdHJsJyxcbiAgWyckc2NvcGUnLCAnTG9ja3VwJywgJ2dlb2xvY2F0ZScsICckaW9uaWNQb3B1cCcsXG4gICgkc2NvcGUsIExvY2t1cCwgZ2VvbG9jYXRlLCAkaW9uaWNQb3B1cCkgLT5cblxuICAgICRzY29wZS5sb2NhdGlvblF1ZXJ5ID0gdGV4dDogXCJcIlxuXG4gICAgJHNjb3BlLmRhdGEubG9ja3VwID1cbiAgICAgIGRlc2NyaXB0aW9uOiBcIlwiXG4gICAgICBhZGRyZXNzOiBcIlwiXG4gICAgICBsb2NhdGlvbjpcbiAgICAgICAgdHlwZTogXCJQb2ludFwiXG4gICAgICAgIGNvb3JkaW5hdGVzOiBbXVxuICAgICAgcmFja0Ftb3VudDogMVxuICAgICAgbG9ja3VwVHlwZTogMlxuXG4gICAgZ2VvbG9jYXRlKClcbiAgICAgIC50aGVuIChwb3NpdGlvbikgLT5cbiAgICAgICAgJHNjb3BlLmRhdGEubG9ja3VwLmxvY2F0aW9uLmNvb3JkaW5hdGVzID0gW3Bvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZV1cbiAgICAgIC5jYXRjaCAoZXJyb3IpIC0+IHNob3dMb2NhdGlvbkVycm9yQWxlcnQoKVxuXG4gICAgJHNjb3BlLmNsZWFyR2VvY29kZUZvcm0gPSAtPlxuICAgICAgJHNjb3BlLmxvY2F0aW9uUXVlcnkudGV4dCA9IFwiXCJcbiAgICAgICRzY29wZS5kYXRhLmxvY2t1cC5sb2NhdGlvbi5jb29yZGluYXRlcyA9IFtdXG4gICAgICAkc2NvcGUuZGF0YS5sb2NrdXAuYWRkcmVzcyA9IFwiXCJcbiAgICAgIGdlb2xvY2F0ZSgpXG4gICAgICAgIC50aGVuIChwb3NpdGlvbikgLT5cbiAgICAgICAgICAkc2NvcGUucHJvY2Vzc2luZ0xvY2F0aW9uID0gZmFsc2VcbiAgICAgICAgICAkc2NvcGUuZGF0YS5sb2NrdXAubG9jYXRpb24uY29vcmRpbmF0ZXMgPSBbcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlXVxuICAgICAgICAuY2F0Y2ggKGVycm9yKSAtPlxuICAgICAgICAgIGNvbnNvbGUubG9nIGVycm9yXG5cbiAgICAkc2NvcGUuZ2VvY29kZUZvcm1Jc0FjdGl2ZSA9IC0+XG4gICAgICBpZiAkc2NvcGUubG9jYXRpb25RdWVyeS50ZXh0IHRoZW4gdHJ1ZSBlbHNlIGZhbHNlXG5cbiAgICAkc2NvcGUucHJvY2Vzc0xvY2F0aW9uID0gLT5cbiAgICAgICRzY29wZS5wcm9jZXNzaW5nTG9jYXRpb24gPSB0cnVlXG4gICAgICBpZiAkc2NvcGUubG9jYXRpb25RdWVyeS50ZXh0XG4gICAgICAgIExvY2t1cC5nZW9jb2RlICRzY29wZS5sb2NhdGlvblF1ZXJ5LnRleHRcbiAgICAgICAgICAudGhlbiAocmVzdWx0cykgLT5cbiAgICAgICAgICAgICRzY29wZS5wcm9jZXNzaW5nTG9jYXRpb24gPSBmYWxzZVxuICAgICAgICAgICAgJHNjb3BlLmRhdGEubG9ja3VwLmxvY2F0aW9uLmNvb3JkaW5hdGVzID0gW3Jlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24uQSwgcmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5rXVxuICAgICAgICAgICAgZm9ybWF0dGVkQWRkcmVzcyA9IHJlc3VsdHNbMF0uZm9ybWF0dGVkX2FkZHJlc3NcbiAgICAgICAgICAgICRzY29wZS5kYXRhLmxvY2t1cC5hZGRyZXNzID0gZm9ybWF0dGVkQWRkcmVzc1xuICAgICAgICAgICAgJHNjb3BlLmxvY2F0aW9uUXVlcnkudGV4dCA9IGZvcm1hdHRlZEFkZHJlc3NcbiAgICAgICAgICAuY2F0Y2ggKGVycm9yKSAtPlxuICAgICAgICAgICAgJGlvbmljUG9wdXAuYWxlcnRcbiAgICAgICAgICAgICAgdGl0bGU6ICdOb3QgZm91bmQhJ1xuICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ1RoZSBhZGRyZXNzIHlvdSBzZWFyY2hlZCBmb3Igd2FzIG5vdCBmb3VuZCdcbiAgICAgIGVsc2UgaWYgJHNjb3BlLmxvY2F0aW9uUXVlcnkudGV4dCBpcyB1bmRlZmluZWRcbiAgICAgICAgJHNjb3BlLmxvY2F0aW9uUXVlcnkudGV4dCA9IFwiXCJcbiAgICAgICAgJHNjb3BlLmRhdGEubG9ja3VwLmxvY2F0aW9uLmNvb3JkaW5hdGVzID0gW11cbiAgICAgICAgJHNjb3BlLmRhdGEubG9ja3VwLmFkZHJlc3MgPSBcIlwiXG4gICAgICAgIGdlb2xvY2F0ZSgpXG4gICAgICAgICAgLnRoZW4gKHBvc2l0aW9uKSAtPlxuICAgICAgICAgICAgJHNjb3BlLnByb2Nlc3NpbmdMb2NhdGlvbiA9IGZhbHNlXG4gICAgICAgICAgICAkc2NvcGUuZGF0YS5sb2NrdXAubG9jYXRpb24uY29vcmRpbmF0ZXMgPSBbcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlXVxuICAgICAgICAgICAgJHNjb3BlLnByb2Nlc3NMb2NhdGlvbigpXG4gICAgICAgICAgLmNhdGNoIChlcnJvcikgLT5cbiAgICAgICAgICAgIHNob3dMb2NhdGlvbkVycm9yQWxlcnQoKVxuICAgICAgZWxzZVxuICAgICAgICBjb29yZFJlZ2V4cCA9IC9eKFxcLT9cXGQrXFwuXFxkKz8pLCooXFwtP1xcZCtcXC5cXGQrPykkL1xuICAgICAgICBpZiBTdHJpbmcoJHNjb3BlLmRhdGEubG9ja3VwLmxvY2F0aW9uLmNvb3JkaW5hdGVzKS5tYXRjaCBjb29yZFJlZ2V4cFxuICAgICAgICAgIExhdExuZ0Nvb3JkcyA9XG4gICAgICAgICAgICBsYXQ6ICRzY29wZS5kYXRhLmxvY2t1cC5sb2NhdGlvbi5jb29yZGluYXRlc1sxXVxuICAgICAgICAgICAgbG5nOiAkc2NvcGUuZGF0YS5sb2NrdXAubG9jYXRpb24uY29vcmRpbmF0ZXNbMF1cblxuICAgICAgICAgIExvY2t1cC5yZXZlcnNlR2VvY29kZSBMYXRMbmdDb29yZHNcbiAgICAgICAgICAgIC50aGVuIChyZXN1bHRzKSAtPlxuICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc2luZ0xvY2F0aW9uID0gZmFsc2VcbiAgICAgICAgICAgICAgZm9ybWF0dGVkQWRkcmVzcyA9IHJlc3VsdHNbMF0uZm9ybWF0dGVkX2FkZHJlc3NcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEubG9ja3VwLmFkZHJlc3MgPSBmb3JtYXR0ZWRBZGRyZXNzXG4gICAgICAgICAgICAgICRzY29wZS5sb2NhdGlvblF1ZXJ5LnRleHQgPSBmb3JtYXR0ZWRBZGRyZXNzXG4gICAgICAgICAgICAuY2F0Y2ggKGVycikgLT5cbiAgICAgICAgICAgICAgIyBoYW5kbGUgZXJyb3JcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGdlb2xvY2F0ZSgpXG4gICAgICAgICAgICAudGhlbiAocG9zaXRpb24pIC0+XG4gICAgICAgICAgICAgICRzY29wZS5wcm9jZXNzaW5nTG9jYXRpb24gPSBmYWxzZVxuICAgICAgICAgICAgICAkc2NvcGUuZGF0YS5sb2NrdXAubG9jYXRpb24uY29vcmRpbmF0ZXMgPSBbcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlXVxuICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc0xvY2F0aW9uKClcbiAgICAgICAgICAgIC5jYXRjaCAoZXJyb3IpIC0+XG4gICAgICAgICAgICAgIHNob3dMb2NhdGlvbkVycm9yQWxlcnQoKVxuXG4gICAgJHNjb3BlLnN1Ym1pdExvY2t1cCA9IC0+XG4gICAgICAjIHBvc3NpYmxlIHB1dCBiYWNrIGJsdXIgb24gZm9ybSBpbnB1dCBlbGVtZW50c1xuICAgICAgTG9ja3VwLnN1Ym1pdCAkc2NvcGUuZGF0YS5sb2NrdXBcbiAgICAgICAgLnRoZW4gKGRhdGEpIC0+XG4gICAgICAgICAgaWYgZGF0YS5kYXRhLm5hbWUgaXMgXCJWYWxpZGF0aW9uRXJyb3JcIlxuICAgICAgICAgICAgJGlvbmljUG9wdXAuYWxlcnRcbiAgICAgICAgICAgICAgdGl0bGU6ICdMb2NrdXAgY3JlYXRpb24gZmFpbGVkISdcbiAgICAgICAgICAgICAgdGVtcGxhdGU6ICdUaGVyZSB3YXMgYW4gaXNzdWUsIHBsZWFzZSB0cnkgYWdhaW4uJ1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRhdGEuZGF0YS5pY29uID0gJ2ltZy9yZWQucG5nJ1xuXG4gICAgICAgICAgICAkc2NvcGUuZGF0YS51c2VyTG9ja3Vwcy5wdXNoIGRhdGEuZGF0YVxuICAgICAgICAgICAgJHNjb3BlLmRhc2hib2FyZC5oaWRlKClcblxuICAgICAgICAgICAgJHNjb3BlLmRhdGEubG9ja3VwID1cbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiXCJcbiAgICAgICAgICAgICAgYWRkcmVzczogXCJcIlxuICAgICAgICAgICAgICBsb2NhdGlvbjpcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBvaW50XCJcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlczogW11cbiAgICAgICAgICAgICAgcmFja0Ftb3VudDogMVxuICAgICAgICAgICAgICBsb2NrdXBUeXBlOiAyXG5cbiAgICAgICAgICAgICRzY29wZS5sb2NhdGlvblF1ZXJ5LnRleHQgPSBcIlwiXG5cbiAgICAgICAgLmNhdGNoIChlcnJvcikgLT5cbiAgICAgICAgICAkaW9uaWNQb3B1cC5hbGVydFxuICAgICAgICAgICAgdGl0bGU6ICdMb2NrdXAgY3JlYXRpb24gZmFpbGVkISdcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnVGhlcmUgd2FzIGFuIGlzc3VlLCBwbGVhc2UgdHJ5IGFnYWluLidcblxuICAgICRzY29wZS5jbG9zZU1vZGFsID0gLT5cbiAgICAgICRzY29wZS5tb2RhbC5oaWRlKClcbiAgICAgICRzY29wZS5jbGVhckdlb2NvZGVGb3JtKClcbl1cblxuLmNvbnRyb2xsZXIgJ0xvY2t1cEluZm9DdHJsJyxcbiAgWyckc2NvcGUnLCAnJGlvbmljUG9wdXAnLCAnUmVwb3J0JyxcbiAgKCRzY29wZSwgJGlvbmljUG9wdXAsIFJlcG9ydCkgLT5cbiAgICAkc2NvcGUuY2xvc2VMb2NrdXBJbmZvTW9kYWwgPSAtPlxuICAgICAgJHNjb3BlLmluZm9Nb2RhbC5oaWRlKClcbiAgICAgICRzY29wZS5kYXRhLmN1cnJlbnRMb2NrdXAgPSB7fVxuICAgICAgJHNjb3BlLnJlcG9ydExvY2t1cEVuYWJsZWQgPSBmYWxzZVxuXG4gICAgJHNjb3BlLmlmVXNlckxvY2t1cCA9IC0+ICRzY29wZS5kYXRhLmN1cnJlbnRMb2NrdXA/LmxvY2t1cFR5cGUgaXMgMlxuICAgICRzY29wZS5pZkNpdHlSYWNrID0gLT4gJHNjb3BlLmRhdGEuY3VycmVudExvY2t1cD8ubG9ja3VwVHlwZSBpcyAxXG4gICAgJHNjb3BlLmlmU0ZSYWNrID0gLT4gJHNjb3BlLmRhdGEuY3VycmVudExvY2t1cD8ubG9ja3VwVHlwZSBpcyAzXG4gICAgJHNjb3BlLmlmQ2hpUmFjayA9IC0+ICRzY29wZS5kYXRhLmN1cnJlbnRMb2NrdXA/LmxvY2t1cFR5cGUgaXMgNFxuICAgICRzY29wZS5pZkRDUmFjayA9IC0+ICRzY29wZS5kYXRhLmN1cnJlbnRMb2NrdXA/LmxvY2t1cFR5cGUgaXMgNVxuXG4gICAgXG4gICAgIyBMb2NrdXAgcmVwb3J0c1xuICAgICRzY29wZS5zaG93UmVwb3J0UG9wdXAgPSAtPlxuICAgICAgJHNjb3BlLmxvY2t1cFJlcG9ydCA9XG4gICAgICAgIGxvY2t1cElkOiAkc2NvcGUuZGF0YS5jdXJyZW50TG9ja3VwLl9pZFxuICAgICAgICBtaXNzaW5nOiBmYWxzZVxuICAgICAgICB0aGVmdDogZmFsc2VcblxuICAgICAgcmVwb3J0UG9wdXAgPSAkaW9uaWNQb3B1cC5zaG93XG4gICAgICAgIHRlbXBsYXRlVXJsOiAncmVwb3J0LXBvcHVwLmh0bWwnXG4gICAgICAgIHRpdGxlOiAnU2VuZCByZXBvcnQnXG4gICAgICAgIHNjb3BlOiAkc2NvcGVcbiAgICAgICAgYnV0dG9uczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6ICdDYW5jZWwnXG4gICAgICAgICAgICBvblRhcDogKGUpIC0+ICdDYW5jZWxsZWQnXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiAnPGI+U3VibWl0PC9iPidcbiAgICAgICAgICAgIHR5cGU6ICdidXR0b24tYXNzZXJ0aXZlJ1xuICAgICAgICAgICAgb25UYXA6IChlKSAtPlxuICAgICAgICAgICAgICB1bmxlc3MgJHNjb3BlLmxvY2t1cFJlcG9ydC5kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgc3VibWl0UmVwb3J0KClcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9ja3VwUmVwb3J0XG4gICAgICAgICAgfVxuICAgICAgICBdXG5cbiAgICBzdWJtaXRSZXBvcnQgPSAtPlxuICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKClcbiAgICAgIFJlcG9ydC5zdWJtaXQgJHNjb3BlLmxvY2t1cFJlcG9ydFxuICAgICAgICAuY2F0Y2ggKGVycm9yKSAtPlxuICAgICAgICAgICRpb25pY1BvcHVwLmFsZXJ0XG4gICAgICAgICAgICAgIHRpdGxlOiAnUmVwb3J0IHN1Ym1pc3Npb24gZmFpbGVkISdcbiAgICAgICAgICAgICAgdGVtcGxhdGU6ICdUaGVyZSB3YXMgYW4gaXNzdWUsIHBsZWFzZSB0cnkgYWdhaW4uJ1xuXVxuIiwiYW5ndWxhci5tb2R1bGUoJ2RpcmVjdGl2ZXMnLCBbXSlcblxuIyBjYW4gb25seSBiZSBjYWxsZWQgb24gYSBmb3JtIGVsZW1lbnRcbi5kaXJlY3RpdmUgJ2JsdXJJbnB1dHMnLCAtPlxuICAoc2NvcGUsIGVsZW0sIGF0dHJzKSAtPlxuICAgIGVsZW0ub24gJ3N1Ym1pdCcsIChlKSAtPlxuICAgICAgXy5lYWNoIGVsZW0uZmluZCgnaW5wdXQnKSwgKG5vZGUpIC0+XG4gICAgICAgIG5vZGUuYmx1cigpXG4iLCJhbmd1bGFyLm1vZHVsZSgnc2VydmljZXMnLCBbXSlcblxuLmZhY3RvcnkgJ0xvY2t1cCcsIFsnJGh0dHAnLCAnJHEnLCAnU2VydmVyVXJsJywgKCRodHRwLCAkcSwgU2VydmVyVXJsKSAtPlxuICBnZW9jb2RlciA9IG5ldyBnb29nbGUubWFwcy5HZW9jb2RlcigpXG5cbiAgIyBzZXJ2aWNlIG1ldGhvZHNcbiAgZmluZEFsbDogLT5cbiAgICAkaHR0cC5nZXQgXCJ7U2VydmVyVXJsfWFwaS9sb2NrdXBzXCJcblxuICBmaW5kSW5NYXBBcmVhOiAoU1dMbmcsIFNXTGF0LCBORUxuZywgTkVMYXQpIC0+XG4gICAgJGh0dHAuZ2V0IFwiI3tTZXJ2ZXJVcmx9YXBpL2xvY2t1cHNcIixcbiAgICAgIHBhcmFtczpcbiAgICAgICAgZmlsdGVyZWQ6IHRydWVcbiAgICAgICAgU1dMbmc6IFNXTG5nXG4gICAgICAgIFNXTGF0OiBTV0xhdFxuICAgICAgICBORUxuZzogTkVMbmdcbiAgICAgICAgTkVMYXQ6IE5FTGF0XG4gICAgLnRoZW4gKHJlc3BvbnNlKSAtPlxuICAgICAgc29ydGVkRGF0YSA9IF8uZ3JvdXBCeSByZXNwb25zZS5kYXRhLCAnbG9ja3VwVHlwZSdcblxuICAgICAgdXNlckxvY2t1cHM6IF8uZWFjaCBzb3J0ZWREYXRhWzJdLCAobG9ja3VwKSAtPiBsb2NrdXAuaWNvbiA9ICdpbWcvcmVkLnBuZydcbiAgICAgIGNpdHlSYWNrczogXy5lYWNoIHNvcnRlZERhdGFbMV0sIChsb2NrdXApIC0+IGxvY2t1cC5pY29uID0gJ2ltZy9ibHVlLnBuZydcbiAgICAgIHNmUmFja3M6IF8uZWFjaCBzb3J0ZWREYXRhWzNdLCAobG9ja3VwKSAtPiBsb2NrdXAuaWNvbiA9ICdpbWcvYmx1ZS5wbmcnXG4gICAgICBjaGlSYWNrczogXy5lYWNoIHNvcnRlZERhdGFbNF0sIChsb2NrdXApIC0+IGxvY2t1cC5pY29uID0gJ2ltZy9ibHVlLnBuZydcbiAgICAgIGRjUmFja3M6IF8uZWFjaCBzb3J0ZWREYXRhWzVdLCAobG9ja3VwKSAtPiBsb2NrdXAuaWNvbiA9ICdpbWcvYmx1ZS5wbmcnXG5cbiAgICAjIC5jYXRjaCAoZXJyb3IpIC0+XG5cbiAgc3VibWl0OiAobG9ja3VwKSAtPlxuICAgICRodHRwLnBvc3QgXCIje1NlcnZlclVybH1hcGkvbG9ja3Vwc1wiLCBsb2NrdXBcblxuICBnZW9jb2RlOiAoYWRkcmVzcykgLT5cbiAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKClcbiAgICBnZW9jb2Rlci5nZW9jb2RlIGFkZHJlc3M6IGFkZHJlc3MsIChyZXN1bHRzLCBzdGF0dXMpIC0+XG4gICAgICBpZiBzdGF0dXMgaXMgXCJPS1wiIHRoZW4gZGVmZXJyZWQucmVzb2x2ZSByZXN1bHRzXG4gICAgICBlbHNlIGRlZmVycmVkLnJlamVjdCgpXG4gICAgZGVmZXJyZWQucHJvbWlzZVxuXG4gIHJldmVyc2VHZW9jb2RlOiAoY29vcmRzKSAtPlxuICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKVxuICAgIGdlb2NvZGVyLmdlb2NvZGUgbGF0TG5nOiBjb29yZHMsIChyZXN1bHRzLCBzdGF0dXMpIC0+XG4gICAgICBpZiBzdGF0dXMgaXMgXCJPS1wiIHRoZW4gZGVmZXJyZWQucmVzb2x2ZSByZXN1bHRzXG4gICAgICBlbHNlIGRlZmVycmVkLnJlamVjdCgpXG4gICAgZGVmZXJyZWQucHJvbWlzZVxuXVxuXG4uZmFjdG9yeSAnUmVwb3J0JywgWyckaHR0cCcsICdTZXJ2ZXJVcmwnLCAoJGh0dHAsIFNlcnZlclVybCkgLT5cbiAgc3VibWl0OiAocmVwb3J0KSAtPlxuICAgICRodHRwLnBvc3QgXCIje1NlcnZlclVybH1hcGkvcmVwb3J0c1wiLCByZXBvcnRcbl1cblxuLmZhY3RvcnkgJ1VzZXInLCBbJyRodHRwJywgJyRxJywgJ1NlcnZlclVybCcsICgkaHR0cCwgJHEsIFNlcnZlclVybCkgLT5cbiAgcmVnaXN0ZXI6IChjcmVkZW50aWFscykgLT5cbiAgICAkaHR0cC5wb3N0IFwiI3tTZXJ2ZXJVcmx9YXV0aC9zaWdudXBcIiwgY3JlZGVudGlhbHNcblxuICBsb2dpbjogKGNyZWRlbnRpYWxzKSAtPlxuICAgICRodHRwLnBvc3QgXCIje1NlcnZlclVybH1hdXRoL2xvZ2luXCIsIGNyZWRlbnRpYWxzXG5cbiAgbG9nb3V0OiAoY3JlZGVudGlhbHMpIC0+XG4gICAgJGh0dHAuZ2V0IFwiI3tTZXJ2ZXJVcmx9YXV0aC9sb2dvdXRcIlxuXG4gIGxvZ2dlZEluOiAtPlxuICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKVxuICAgICRodHRwLmdldCBcIiN7U2VydmVyVXJsfWF1dGgvbG9nZ2VkaW5cIlxuICAgICAgLnRoZW4gKHJlc3BvbnNlKSAtPlxuICAgICAgICBpZiByZXNwb25zZS5kYXRhIGlzICcwJyB0aGVuIGRlZmVycmVkLnJlamVjdCAnbm90IGxvZ2dlZCBpbidcbiAgICAgICAgZWxzZSBkZWZlcnJlZC5yZXNvbHZlIHJlc3BvbnNlLmRhdGFcbiAgICAgIC5jYXRjaCAoZXJyb3IpIC0+XG4gICAgICAgIGRlZmVycmVkLnJlamVjdCBlcnJvclxuXG4gICAgZGVmZXJyZWQucHJvbWlzZVxuXVxuXG4uZmFjdG9yeSAnQW5hbHl0aWNzJywgWyckaHR0cCcsICdTZXJ2ZXJVcmwnLCAoJGh0dHAsIFNlcnZlclVybCkgLT5cbiAgaW5jcmVtZW50UGFnZVZpZXdzOiAobG9ja3VwKSAtPlxuICAgICRodHRwLmdldCBcIiN7U2VydmVyVXJsfWFwaS9hbmFseXRpY3MvbG9ja3Vwcy8je2xvY2t1cC5faWR9XCJcblxuICBzZW5kTG9jYXRpb246IChsYXQsIGxuZykgLT5cbiAgICAkaHR0cC5nZXQgXCIje1NlcnZlclVybH1hcGkvYW5hbHl0aWNzL3NlYXJjaC9sb2NhdGlvblwiLFxuICAgICAgcGFyYW1zOlxuICAgICAgICBsYXQ6IGxhdFxuICAgICAgICBsbmc6IGxuZ1xuXG4gIHNlbmRBZGRyZXNzOiAobGF0LCBsbmcpIC0+XG4gICAgJGh0dHAuZ2V0IFwiI3tTZXJ2ZXJVcmx9YXBpL2FuYWx5dGljcy9zZWFyY2gvYWRkcmVzc1wiLFxuICAgICAgcGFyYW1zOlxuICAgICAgICBsYXQ6IGxhdFxuICAgICAgICBsbmc6IGxuZ1xuXVxuXG4uZmFjdG9yeSAnZ2VvbG9jYXRlJywgWyckY29yZG92YUdlb2xvY2F0aW9uJywgKCRjb3Jkb3ZhR2VvbG9jYXRpb24pIC0+XG4gIC0+ICRjb3Jkb3ZhR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uIG1heGltdW1BZ2U6IDBcbl1cblxuLmNvbnN0YW50ICdTZXJ2ZXJVcmwnLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwLydcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==